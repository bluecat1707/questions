const unitsData = {
  "Nursing Education": [
    // ===== UNIT 1: FILLED WITH ALL MCQs FROM YOUR PDF =====
    {
      unitName: "Unit 1: Introduction to Theoretical Foundations",
      questions: [
        {
          questionText: "The all-round development drawing out the best of a child was envisaged by:",
          options: [
            "Swami Vivekananda",
            "Aurobindo Ghosh",
            "Mahatma Gandhi",
            "Dr Radhakrishnan"
          ],
          correctAnswer: "Mahatma Gandhi"
        },
        {
          questionText: "Reconstruction is termed:",
          options: [
            "Critical thinking theory",
            "Assumption theory",
            "Inclusion theory",
            "Exclusion theory"
          ],
          correctAnswer: "Critical thinking theory"
        },
        {
          questionText: "Education is termed:",
          options: [
            "Fitness of good.",
            "Living a better life by caring good",
            "Lifelong process",
            "Process to achieve something"
          ],
          correctAnswer: "Lifelong process"
        },
        {
          questionText: "Arms of education are:",
          options: [
            "Social, volcano and cultural",
            "Normal, spiritual and intellectual",
            "To get an employment",
            "Both (a) and (d)"
          ],
          correctAnswer: "Both (a) and (d)"
        },
        {
          questionText: "Principles of education is except:",
          options: [
            "Self-determination",
            "Develop independent learning skills",
            "Develop leadership skills",
            "To guide people"
          ],
          correctAnswer: "To guide people"
        },
        {
          questionText: "Learning is except:",
          options: [
            "Self-directed",
            "Self-activity",
            "Not transferable",
            "Creative"
          ],
          correctAnswer: "Not transferable"
        },
        {
          questionText: "The most recognized learning theory in education is:",
          options: [
            "Bloom’s taxonomy",
            "Motivational theory",
            "Theory of avoidance",
            "None of these"
          ],
          correctAnswer: "Bloom’s taxonomy"
        },
        {
          questionText: "Affective domain of learning includes:",
          options: [
            "Attitude, values, interest and appreciation",
            "Attitude, moral, interest and appreciation",
            "Attitude, moral and appreciation",
            "Attitude, values and interest"
          ],
          correctAnswer: "Attitude, values, interest and appreciation"
        },
        {
          questionText: "Transformation learning process is:",
          options: [
            "Based on learning by doing",
            "Make sense of other life experiences",
            "Make sense and people’s own life experiences",
            "Based on cognitive values"
          ],
          correctAnswer: "Make sense and people’s own life experiences"
        },
        {
          questionText: "Education is dependent on:",
          options: [
            "Anthropology",
            "Sociology",
            "Philosophy",
            "Geography"
          ],
          correctAnswer: "Philosophy"
        },
        {
          questionText: "The objectives of lesson plan should be:",
          options: [
            "Learner oriented",
            "Teacher oriented",
            "Both (a) and (b)",
            "None of these"
          ],
          correctAnswer: "Learner oriented"
        },
        {
          questionText: "The learning domains of Bloom’s taxonomy are:",
          options: [
            "Cognitive and psychomotor",
            "Alternative and cognitive",
            "Cognitive, affective and psychomotor",
            "Psychomotor and effective"
          ],
          correctAnswer: "Cognitive, affective and psychomotor"
        },
        {
          questionText: "Central objective is also known as:",
          options: [
            "Specific objective",
            "Departmental objective",
            "Institution objective",
            "Main objective"
          ],
          correctAnswer: "Institution objective"
        },
        {
          questionText: "The maxims of learning is:",
          options: [
            "Known to unknown",
            "Concrete to abstract",
            "Sample to complex",
            "All of these"
          ],
          correctAnswer: "All of these"
        },
        {
          questionText: "The stages of learning are:",
          options: [
            "Cognitive, associate and disassociate",
            "Cognitive, autonomous and captive",
            "Cognitive, associative and autonomous",
            "Cognitive, associative and behavior"
          ],
          correctAnswer: "Cognitive, associative and autonomous"
        }
      ]
    },
    // ===== UNIT 2: FILLED WITH MCQs FROM YOUR PDF =====
    {
  unitName: "Unit 2: Assessment and Planning",
  questions: [
    {
      questionText: "Factors influencing selection of clinical learning experience except:",
      options: [
        "Allowing students to practise and make decision",
        "Relationship with clinical staff",
        "Mentoring done by teaching and clinical staff",
        "Innovative and creative clinical environment"
      ],
      correctAnswer: "Allowing students to practise and make decision"
    },
    {
      questionText: "The learning outcomes in clinical setting should be focused on:",
      options: [
        "Students ability to focus on interpersonal/relationship",
        "Student ability to work without supervision",
        "Student knowledge to be focused",
        "Student behavior to be focused interms of application of theory in practice"
      ],
      correctAnswer: "Student behavior to be focused interms of application of theory in practice"
    },
    {
      questionText: "Nursing rounds are focused on:",
      options: [
        "Multidisciplinary approach",
        "Students-patient approach",
        "Patient-patient approach",
        "Patient-relative approach"
      ],
      correctAnswer: "Multidisciplinary approach"
    },
    {
      questionText: "The case study method of clinical teaching is:",
      options: [
        "Exhaustive, systematic and general investigation",
        "It focus on only individuals",
        "Extensive systematic and in depth investigation",
        "The multiple factor are ignored"
      ],
      correctAnswer: "It focus on only individuals"
    },
    {
      questionText: "Concept mapping is:",
      options: [
        "Used to encourage critical thniking",
        "Link key concepts for analysis of information",
        "Encourage students to improve judgment",
        "All of these"
      ],
      correctAnswer: "Encourage students to improve judgment"
    },
    {
      questionText: "Characteristics of curriculum are except:",
      options: [
        "Continuously evolving",
        "Logical sequence of subjects",
        "Educational quality",
        "Simple and short term effort"
      ],
      correctAnswer: "Simple and short term effort"
    },
    {
      questionText: "Curriculum development factors are:",
      options: [
        "Societal, economical factor",
        "Political and gender factor",
        "National priority, educational factor",
        "All of these"
      ],
      correctAnswer: "All of these"
    },
    {
      questionText: "Types of evaluation are:",
      options: [
        "Formative and summative",
        "Formative and automative",
        "Sumative and counter productive",
        "None of these"
      ],
      correctAnswer: "Formative and summative"
    },
    {
      questionText: "The steps of planning phase of curriculum devlopmental are",
      options: [
        "Identify problem",
        "For curriculum development team",
        "Both (a) and (b)",
        "None of these"
      ],
      correctAnswer: "Both (a) and (b)"
    },
    {
      questionText: "Highest percentage of learning takes place while doing (as per learning pyramid)",
      options: [
        "Reading",
        "Watching video",
        "Teaching others",
        "Discussion"
      ],
      correctAnswer: "Teaching others"
    },
    {
      questionText: "To be able to communicate well, a teacher will become an effective communicator if:",
      options: [
        "He uses instructional aids",
        "He helps students get meaning out of what he teaches",
        "He asks questions between teachings",
        "He helps students get correct answers to the questions on the topic"
      ],
      correctAnswer: "He helps students get meaning out of what he teaches"
    },
    {
      questionText: "A teacher is said to be good when she is capable of:",
      options: [
        "When she finishes the tasks on time",
        "Motivating students to learn",
        "Delivering a satisfactory outcome",
        "Assisting pupils in the preparation of good notes"
      ],
      correctAnswer: "Motivating students to learn"
    },
    {
      questionText: "Which of the following subject combinations would assist a teacher in developing effective pedagogical methods:",
      options: [
        "Sociology and philosophy",
        "Philosophy and psychology",
        "Psychology and sociology",
        "None of these"
      ],
      correctAnswer: "Psychology and sociology"
    },
    {
      questionText: "If a teacher wants to gain popularity among students, he or she should do the following:",
      options: [
        "Personally helps them in their studies",
        "Organizes tours routinely",
        "Whilst teaching, he dictates notes",
        "Maintains positive interpersonal relationships"
      ],
      correctAnswer: "Personally helps them in their studies"
    },
    {
      questionText: "Without the assistance of a teacher, a pupil attempts to solve an issue. The instructor should:",
      options: [
        "Tell him/her to seek assistance from his/her coworkers",
        "Not pay attention to him/her",
        "Chastises him/her for being an idiot",
        "Evaluate his or her own effort"
      ],
      correctAnswer: "Evaluate his or her own effort"
    },
    {
      questionText: "Which of the following statements about the Modern Annual Examination System is/are accurate?",
      options: [
        "It encourages cramming to get knowledge",
        "It does not motivate students to study on a regular basis",
        "It does not inspire students to come to class on a regular basis",
        "All of the above"
      ],
      correctAnswer: "All of the above"
    },
    {
      questionText: "Which of the following is a good indicator of teaching quality?",
      options: [
        "Keeping the harmony in the classroom for a period of time",
        "Students’ inquiries in the classroom should be of a certain standard",
        "Standard of answers replied by students in the classroom",
        "The percentage of pupils that pass"
      ],
      correctAnswer: "The percentage of pupils that pass"
    },
    {
      questionText: "The main goal of education is to:",
      options: [
        "Strengthen the mind",
        "Develop reasoning ability",
        "Both (a) and (b)",
        "Give information only"
      ],
      correctAnswer: "Both (a) and (b)"
    },
    {
      questionText: "New or the basic education is also known as :",
      options: [
        "Crucial education",
        "New Education policy",
        "Wardha education plan",
        "Drive for education to all"
      ],
      correctAnswer: "Wardha education plan"
    },
    {
      questionText: "Why do teachers need to study philosophy of education?",
      options: [
        "To understand theory philosophy of inheritance",
        "Being acquainted with abstract knowledge",
        "Defining the curriculum’s goals and objectives",
        "Obtaining concepts for controlling instructional behavior"
      ],
      correctAnswer: "To understand theory philosophy of inheritance"
    },
    {
      questionText: "Values of every human being are reflected in:",
      options: [
        "Realism",
        "Pragmatism",
        "Naturalism",
        "Idealism"
      ],
      correctAnswer: "Idealism"
    },
    {
      questionText: "Developing the universal human values means:",
      options: [
        "Indoctrination",
        "Adoption",
        "Imitation",
        "Manifestation"
      ],
      correctAnswer: "Manifestation"
    },
    {
      questionText: "Applying listening skills to a lecture which is being delivered in the class room:",
      options: [
        "Informative audition",
        "Assessed audition",
        "Added audition",
        "None of these"
      ],
      correctAnswer: "Informative audition"
    },
    {
      questionText: "What is the ideal situation in the classroom?",
      options: [
        "The lecturer prepares himself for the lecture before entering the classroom and gives his speech with complete confidence",
        "Students enter the classroom with their bags packed. Prepare and discuss the subject with one another in the presence of the lecturer",
        "Lecturer and the students discuss the subject",
        "While delivering the lecture, the lecturer uses audio-visual means"
      ],
      correctAnswer: "The lecturer prepares himself for the lecture before entering the classroom and gives his speech with complete confidence"
    },
    {
      questionText: "A teacher should be well-versed in which of the following in order to comprehend his students?",
      options: [
        "Child psychology",
        "A proclivity for gaining a better knowledge of children",
        "Students’ perspectives on the subject",
        "All of the above"
      ],
      correctAnswer: "All of the above"
    },
    {
      questionText: "The following is a description of the educational process in practice:",
      options: [
        "Very credible, authentic and regular",
        "Not credible",
        "Credible but not regular",
        "None of these"
      ],
      correctAnswer: "Very credible, authentic and regular"
    },
    {
      questionText: "Which teaching technique encourages students to make the most of their knowledge?",
      options: [
        "Problem Solution Method",
        "Laboratory Method",
        "Self-Study Method",
        "Team-Study Method"
      ],
      correctAnswer: "Laboratory Method"
    },
    {
      questionText: "The primary sources are books and documents:",
      options: [
        "Historical research data",
        "Participation data",
        "Medical research data",
        "Laboratory research data"
      ],
      correctAnswer: "Historical research data"
    },
    {
      questionText: "An open book exam method has which of the following significant characteristics?",
      options: [
        "Serious behavior of the student",
        "Increase attendance in the class-room",
        "Reduces the stress related to examination",
        "Compelling student from thinking"
      ],
      correctAnswer: "Compelling student from thinking"
    },
    {
      questionText: "Quality of a effective teacher is :",
      options: [
        "Control over the class",
        "Delivering of information in limited period",
        "Inspiring students to learn",
        "Amends the carefully assignments"
      ],
      correctAnswer: "Inspiring students to learn"
    }
  ]
},
    // ===== UNIT 3: (ADD YOUR MCQs HERE) =====
    {
  unitName: "Unit 3: Implementation",
  questions: [
    {
      questionText: "_________________ refers to communication without the usage of words.",
      options: [
        "Object to object communication",
        "Communication by writing",
        "Nonverbal Communication",
        "Oral communication"
      ],
      correctAnswer: "Nonverbal Communication"
    },
    {
      questionText: "_________________ is the name of the person who sends the message.",
      options: [
        "Channel",
        "Sender",
        "Receiver",
        "Response"
      ],
      correctAnswer: "Sender"
    },
    {
      questionText: "_________________ strives to get people to work together for the organization’s common good.",
      options: [
        "Communication",
        "Conversation",
        "Combination",
        "Connection"
      ],
      correctAnswer: "Communication"
    },
    {
      questionText: "There is a chance of interference at each level of the communication process, which could hinder the process. This type of interference is referred to as _________________.",
      options: [
        "Sender",
        "Receiver",
        "Barrier",
        "None of these"
      ],
      correctAnswer: "Barrier"
    },
    {
      questionText: "_________________ refers to all nonverbal means of human communication.",
      options: [
        "Prosody",
        "Vocalic",
        "Haptics",
        "Para language"
      ],
      correctAnswer: "Para language"
    },
    {
      questionText: "Communication is _________________ transfer of information or message.",
      options: [
        "Interpersonal",
        "Impersonal",
        "Personal",
        "Important"
      ],
      correctAnswer: "Personal"
    },
    {
      questionText: "The sender and receiver are linked by a _________________.",
      options: [
        "Channel",
        "Noise",
        "Communication",
        "Feedback"
      ],
      correctAnswer: "Channel"
    },
    {
      questionText: "The _________________ in word usage could be a major impediment to good communication.",
      options: [
        "Disturbance",
        "Discrimination",
        "Disorder",
        "Distortion"
      ],
      correctAnswer: "Distortion"
    },
    {
      questionText: "When we speak, most of us use _________________ and _________________ in addition to words.",
      options: [
        "Body language and posture",
        "Gesture and body language",
        "Words and gesture",
        "Posture and eye gazing"
      ],
      correctAnswer: "Body language and posture"
    },
    {
      questionText: "Pitch, loudness, duration, intonation, and pace are all examples of _________________",
      options: [
        "Touch",
        "Gesture",
        "Haptics",
        "Prosody"
      ],
      correctAnswer: "Gesture"
    },
    {
      questionText: "The major goal is to find specific information that will be useful in _________________",
      options: [
        "Comprehension",
        "Empathetic",
        "Appreciative",
        "Therapeutic"
      ],
      correctAnswer: "Therapeutic"
    },
    {
      questionText: "_________________ is another name for dialogic listening.",
      options: [
        "Therapeutic",
        "Appreciative",
        "Relational",
        "Evaluative"
      ],
      correctAnswer: "Appreciative"
    },
    {
      questionText: "_________________ refers to skimming through a textbook to acquire a general sense of the topic.",
      options: [
        "Extensive reading",
        "Skimming",
        "Scanning",
        "Intensive"
      ],
      correctAnswer: "Skimming"
    },
    {
      questionText: "_________________ reading is great since it aids comprehension.",
      options: [
        "Loud",
        "Intensive",
        "Silent",
        "Extensive"
      ],
      correctAnswer: "Extensive"
    },
    {
      questionText: "The amount of words on a presentation should be kept to a maximum of _________________ per slide.",
      options: [
        "Seven",
        "Eight",
        "Nine",
        "Ten"
      ],
      correctAnswer: "Ten"
    },
    {
      questionText: "The _________________ are created by writing the first letters of words in a name or phrase.",
      options: [
        "Personal abbreviations",
        "Field abbreviations",
        "Acronyms",
        "None of these"
      ],
      correctAnswer: "None of these"
    },
    {
      questionText: "TQM stands for _________________ in a complete form.",
      options: [
        "Total quality management",
        "Total quality manager",
        "Team quality management",
        "None of these"
      ],
      correctAnswer: "Total quality management"
    },
    {
      questionText: "Internal communication between members of an organization is referred to as _________________.",
      options: [
        "Formal",
        "Informal",
        "External",
        "Internal"
      ],
      correctAnswer: "Internal"
    },
    {
      questionText: "The _________________ of the problem is marked by informal meetings.",
      options: [
        "Immediacy",
        "Important",
        "Immediately",
        "Improvement"
      ],
      correctAnswer: "Immediacy"
    },
    {
      questionText: "_________________ is intended for a certain set of people, while _________________ is intended for the broader public.",
      options: [
        "Memo, circular",
        "Notice, circular",
        "Notice, memo",
        "Circular, notice"
      ],
      correctAnswer: "Circular, notice"
    },
    {
      questionText: "The issue with proofreading is that you’ll need to be proficient in both _________________ and _________________.",
      options: [
        "Pronunciation, spelling",
        "Spelling and punctuation",
        "Punctuation and pronunciation",
        "Paraphrasing and spelling"
      ],
      correctAnswer: "Spelling and punctuation"
    },
    {
      questionText: "Oral communication ensures that _________________ and _________________ are met.",
      options: [
        "Adequate attention, immediate response",
        "Speedy interaction, immediate response",
        "Fluency, speed",
        "Attention, speed"
      ],
      correctAnswer: "Adequate attention, immediate response"
    },
    {
      questionText: "In communication, unclarified assumptions can lead to _________________ and _________________ .",
      options: [
        "Lack of planning, physical barriers",
        "Information overload, selective perception",
        "Premature evaluation, poor listening",
        "Confusion, misunderstanding"
      ],
      correctAnswer: "Confusion, misunderstanding"
    },
    {
      questionText: "Communication’s fundamental purpose is to _________________.",
      options: [
        "To create noise",
        "To create barriers",
        "To affect a change",
        "None of these"
      ],
      correctAnswer: "To affect a change"
    },
    {
      questionText: "Verbal communication is defined as communication that takes place via the use of __________ and _________________ .",
      options: [
        "Gestures and spoken words",
        "Spoken words and written material",
        "Body language and gestures",
        "Written material and gestures"
      ],
      correctAnswer: "Body language and gestures"
    }
  ]
}
,
    // ===== UNIT 4: (ADD YOUR MCQs HERE) =====
    {
  unitName: "Unit 4: Teaching in the Clinical Setting",
  questions: [
    {
      questionText: "The subjective data denotes:",
      options: [
        "Experience by the patient and reported to nurse",
        "Observed by the nurse",
        "Combination of patient experience and nurse’s observation",
        "None of the above"
      ],
      correctAnswer: "Experience by the patient and reported to nurse"
    },
    {
      questionText: "The objective data denotes:",
      options: [
        "Experience by the patient and reported to nurse",
        "Observed by the nurse",
        "Combination of patient experience and nurse’s observation",
        "All of the above"
      ],
      correctAnswer: "Observed by the nurse"
    },
    {
      questionText: "Characteristics of effective clinical teacher are except:",
      options: [
        "Intrinsic motivation and clinical competence",
        "Professional ethics and communication skills",
        "Random visit to the clinical setting and higher knowledge",
        "Professional acceptability and appropriate appearance"
      ],
      correctAnswer: "Random visit to the clinical setting and higher knowledge"
    },
    {
      questionText: "Factors influencing clinical learning experience are:",
      options: [
        "Good mentoring",
        "Relationship with clinical staff",
        "Opportunities for practice",
        "All of the above"
      ],
      correctAnswer: "All of the above"
    },
    {
      questionText: "The role of clinical teacher is except:",
      options: [
        "Creates environment for learning",
        "Observe and assess the outcomes",
        "Outcomes are measured on predetermined objectives",
        "Force students to practice whatever is available in the clinical setting"
      ],
      correctAnswer: "Force students to practice whatever is available in the clinical setting"
    },
    {
      questionText: "The bedside clinic is:",
      options: [
        "Process to teaching in clinical setting based on subjective, objective data, diagnostic and therapeutic options",
        "Process of practice of nursing as instructed by the clinical teacher",
        "Process of nursing practice based on physician’s prescription",
        "All of the above"
      ],
      correctAnswer: "Process to teaching in clinical setting based on subjective, objective data, diagnostic and therapeutic options"
    },
    {
      questionText: "Strengths of clinical teaching are:",
      options: [
        "Real world issues that arise in practice",
        "Enable students in decision making",
        "Educationally sound",
        "All of the above"
      ],
      correctAnswer: "All of the above"
    },
    {
      questionText: "The importance of planning for clinical learning experience is:",
      options: [
        "To structure context by teacher and student",
        "Provide frame work for reflection and evaluation",
        "Enhance spontaneity among students",
        "Both (a) and (b)"
      ],
      correctAnswer: "Both (a) and (b)"
    },
    {
      questionText: "Experiential learning is:",
      options: [
        "Based on experience",
        "Conceptualization through reflection",
        "Arranged instructional session",
        "All of the above"
      ],
      correctAnswer: "All of the above"
    },
    {
      questionText: "Opportunistic active learning:",
      options: [
        "Learning by doing",
        "Incorporates active learning into interactive tasks",
        "Trial and error method of learning",
        "None of the above"
      ],
      correctAnswer: "Incorporates active learning into interactive tasks"
    }
  ]
},
    // ===== UNIT 5: (ADD YOUR MCQs HERE) =====
    {
      unitName: "Unit 5: Educational/Teaching Media",
      questions: [
        // Add all Unit 5 MCQs here in same format
      ]
    },
    // ===== UNIT 6: (ADD YOUR MCQs HERE) =====
    {
      unitName: "Unit 6: Assessment and Evaluation Methodologies",
      questions: [
        // Add all Unit 6 MCQs here in same format
      ]
    },
    // ===== UNIT 7: (ADD YOUR MCQs HERE) =====
    {
      unitName: "Unit 7: Guidance/Academic Advising Counseling and Discipline",
      questions: [
        // Add all Unit 7 MCQs here in same format
      ]
    },
    // ===== UNIT 8: (ADD YOUR MCQs HERE) =====
    {
      unitName: "Unit 8: Ethics and Evidence-Based Teaching in Nursing Education",
      questions: [
        // Add all Unit 8 MCQs here in same format
      ]
    }
  ]
};


// ===================== APP LOGIC =====================

let currentUnitIdx = null;
let currentQuestionIdx = 0;
let score = 0;
let answers = [];

// Show all units
function showUnits() {
  const app = document.getElementById('app');
  app.innerHTML = '<h2>Select a Unit</h2><ul id="unit-list"></ul>';
  const list = document.getElementById('unit-list');
  unitsData["Nursing Education"].forEach((unit, idx) => {
    const li = document.createElement('li');
    li.className = "unit";
    li.textContent = unit.unitName;
    li.onclick = () => startQuiz(idx);
    list.appendChild(li);
  });
}

// Start quiz for a unit
function startQuiz(unitIdx) {
  currentUnitIdx = unitIdx;
  currentQuestionIdx = 0;
  score = 0;
  answers = [];
  showQuestion();
}

// Show a question
function showQuestion() {
  const unit = unitsData["Nursing Education"][currentUnitIdx];
  const question = unit.questions[currentQuestionIdx];
  const app = document.getElementById('app');
  app.innerHTML = `
    <h2>${unit.unitName} MCQ Quiz</h2>
    <div class="progress">Q${currentQuestionIdx + 1} of ${unit.questions.length}</div>
    <div class="question">${question.questionText}</div>
    <div class="options" id="options"></div>
    <button class="back-btn" onclick="showUnits()">⬅ Back to Units</button>
  `;
  question.options.forEach(opt => {
    const btn = document.createElement('button');
    btn.textContent = opt;
    btn.className = "option-btn";
    btn.onclick = () => submitAnswer(opt);
    document.getElementById('options').appendChild(btn);
  });
}

// Submit answer and move to next
function submitAnswer(selected) {
  const unit = unitsData["Nursing Education"][currentUnitIdx];
  const question = unit.questions[currentQuestionIdx];
  answers.push({
    question: question.questionText,
    options: question.options,
    selected,
    correct: question.correctAnswer
  });
  if (selected === question.correctAnswer) score++;
  currentQuestionIdx++;
  if (currentQuestionIdx < unit.questions.length) {
    showQuestion();
  } else {
    showResult();
  }
}

// Enhanced result page for aesthetics & clarity
function showResult() {
  const unit = unitsData["Nursing Education"][currentUnitIdx];
  const app = document.getElementById('app');
  // Score wording
  let comment = "Great job!";
  if (score === unit.questions.length) comment = "Perfect!";
  else if (score / unit.questions.length > 0.8) comment = "Excellent work!";
  else if (score / unit.questions.length > 0.6) comment = "Good effort. Review missed ones below.";
  else comment = "Keep practicing! Review the correct answers below.";

  let html = `
    <div class="score-card">
      <div class="score">Your Score: ${score} / ${unit.questions.length}</div>
      <div class="score-comment">${comment}</div>
    </div>
    <div class="result-list">
      ${answers.map((a, i) => `
        <div class="result-question">
          <span class="q-title">Q${i + 1}. ${a.question}</span>
          <div>
            Your answer: 
              <span class="${a.selected === a.correct ? 'correct' : 'wrong'}">
                ${a.selected}
                ${a.selected === a.correct 
                  ? '<span class="result-correct-icon">✔️</span>'
                  : '<span class="result-wrong-icon">❌</span>'
                }
              </span>
          </div>
          <div>
            Correct answer: <span class="correct">${a.correct}</span>
          </div>
        </div>
      `).join('')}
    </div>
    <button class="retry-btn" onclick="startQuiz(${currentUnitIdx})">Try This Unit Again</button>
    <button class="back-btn" onclick="showUnits()">⬅ Back to Units</button>
  `;
  app.innerHTML = html;
}

// Initialize
window.showUnits = showUnits;
window.startQuiz = startQuiz;
document.addEventListener("DOMContentLoaded", showUnits);
